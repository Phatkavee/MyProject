<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>SNMP Interface Control</title>
    <style>
        .port {
            width: 100px;
            height: 50px;
            margin: 10px;
            display: inline-block;
            text-align: center;
            line-height: 50px;
            color: white;
            cursor: pointer;
        }
        .up { background-color: green; }
        .down { background-color: red; }
    </style>
</head>
<body>
    <h1>SNMP Interface Control</h1>
    <div id="ports">
        <!-- Dynamically generated port buttons will go here -->
        {% for port, status in interface_data %}
        <div id="port-{{ loop.index0 }}" class="port {{ 'up' if status == 'up' else 'down' }}" onclick="togglePort({{ loop.index0 }})">
            Port {{ loop.index }} {{ status.upper() }}
        </div>
        {% endfor %}
    </div>

    <script>
        const portStatus = Array({{ interface_data|length }}).fill(false); // Initialize port status

        function togglePort(port) {
            portStatus[port] = !portStatus[port]; // Toggle status
            updatePortUI(port);
            sendSNMPCommand(port, portStatus[port]);
        }

        function updatePortUI(port) {
            const portDiv = document.getElementById('port-' + port);
            portDiv.className = portStatus[port] ? 'port up' : 'port down';
            portDiv.textContent = 'Port ' + (port + 1) + (portStatus[port] ? ' UP' : ' DOWN');
        }

        function sendSNMPCommand(port, status) {
            const oid = '1.3.6.1.2.1.2.2.1.7.' + (port + 1);
            console.log('Sending SNMP command to ' + (status ? 'up' : 'down') + ' Port ' + (port + 1) + ' with OID: ' + oid);
            // Implement the SNMP command sending logic here
        }
    </script>
</body>
</html>
